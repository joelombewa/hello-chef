(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{551:function(e,t,r){"use strict";var n={props:["permanent","primary","text","top"],computed:{headerHeight(){return this.top||this.$store.state.elements.appHeaderHeight}},mounted(){this.$store.dispatch("events/track",{event:"Notification Displayed",properties:{permanent:this.permanent,primary:this.primary,text:this.text}})}},l=r(5),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row text-white text-center text-17 desktop:text-20 leading-20 desktop:leading-24 fixed pin-t pin-x py-11 desktop:py-11 px-gutter-2x desktop:px-gutter-2x z-20",class:e.primary?"bg-primary":"bg-secondary",style:{top:e.headerHeight+"px"}},[n("div",{staticClass:"col-10 text-center ml-auto",domProps:{innerHTML:e._s(e.text)}}),e._v(" "),n("div",{staticClass:"col-1 text-right"},[e.permanent?e._e():n("button",{staticClass:"leading-0 text-white",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[n("vector",{staticClass:"h-16 w-16 desktop:h-16 desktop:w-16",attrs:{src:r(311),alt:"close"}})],1)])])}),[],!1,null,null,null);t.a=component.exports},569:function(e,t){e.exports='<svg version="1.1" id="__z4nCHsw__Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40.2" style="enable-background:new 0 0 40 40.2;" xml:space="preserve"><path id="__z4nCHsw__path-1_1_" d="M30.5,2.9c0.7-0.7,0.7-1.7,0-2.4s-1.7-0.7-2.4,0L9.3,19.4c-0.4,0.4-0.4,1,0,1.4l0,0l18.8,18.8 c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4L14,20.8c-0.4-0.4-0.4-1,0-1.4l0,0L30.5,2.9z"></path></svg>'},570:function(e,t){e.exports='<svg version="1.1" id="__37MFlSh__Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40.2" style="enable-background:new 0 0 40 40.2;" xml:space="preserve"><path id="__37MFlSh__path-1_1_" d="M9.5,37.3L26,20.8l0,0c0.4-0.4,0.4-1,0-1.4L9.5,2.9c-0.7-0.7-0.7-1.7,0-2.4s1.7-0.7,2.4,0l18.8,18.8l0,0 c0.4,0.4,0.4,1,0,1.4L11.9,39.6c-0.7,0.7-1.7,0.7-2.4,0C8.8,39,8.8,37.9,9.5,37.3z"></path></svg>'},578:function(e,t,r){e.exports={features:"nopurge_features_3wkCZclR"}},642:function(e,t,r){"use strict";var n=r(578),l=r.n(n);r.d(t,"default",(function(){return l.a}))},652:function(e,t,r){"use strict";r.r(t);var n=r(4),l=(r(23),r(30),r(551)),o=r(579),c=(r(22),r(11)),d=r(89),h=r(97),m=r.n(h),k=r(14),v=r(568),w=r(597);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={components:{MealPlanBadge:v.a,RecipeFeatures:w.a},computed:y(y(y({},Object(k.b)("auth",["activeSubscription"])),Object(k.d)("weeklyMenu",{weeklyMenuId:e=>e.weeklyMenuId})),{},{calories(){return(this.value.nutritions.find((e=>"Calories"===e.name))||{}).value},carbs(){return(this.value.nutritions.find((e=>"Carbs"===e.name))||{}).value},fat(){return(this.value.nutritions.find((e=>"Fat"===e.name))||{}).value},gourmetSurcharge(){return this.value["gourmetSurchargeFor".concat(this.activeSubscription?d.a.numberOfPeople(this.activeSubscription):2)]},protein(){return(this.value.nutritions.find((e=>"Protein"===e.name))||{}).value},recipeLink(){var link="/recipes/".concat(this.slug,"-").concat(this.value.id),e=[];return this.checkout&&e.push({label:"checkout",value:!0}),this.weeklyMenuId&&e.push({label:"week",value:this.weeklyMenuId}),e.length?"".concat(link,"?").concat(e.map((e=>"".concat(e.label,"=").concat(e.value))).join("&")):link},slug(){return m()(this.value.name)}}),props:["value"]},_=r(642),C=r(5);var P=Object(C.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nuxt-link",{staticClass:"block desktop:rounded desktop:shadow-lg overflow-hidden text-center relative desktop:min-h-456",attrs:{to:e.recipeLink}},[n("custom-image",{staticClass:"w-full h-full object-cover absolute pin",attrs:{photo:e.value.photo,options:{angle:"ignore"},responsive:!0,alt:"photo"}}),e._v(" "),n("div",{staticClass:"bg-black-60 desktop:rounded desktop:pt-18 desktop:pb-24 desktop:px-gutter-2x absolute pin-b pin-x desktop:mb-8 desktop:mx-8"},[n("div",{staticClass:"row",class:{"desktop:mb-13":e.value.mealPlans.length>0}},[n("div",{staticClass:"col-vw-4 mx-auto"},[n("h2",{staticClass:"text-white"},[e._v("\n          "+e._s(e.value.name)+"\n        ")]),e._v(" "),n("p",{staticClass:"desktop:text-15 font-light desktop:mt-5"},[e._v("\n          Cals "+e._s(parseFloat(e.calories).toFixed(0))+" · Prot "+e._s(parseFloat(e.protein).toFixed(0))+" · Carbs "+e._s(parseFloat(e.carbs).toFixed(0))+" · Fat "+e._s(parseFloat(e.fat).toFixed(0))+"\n        ")]),e._v(" "),e.value.cookingTime?n("p",{staticClass:"desktop:text-15 font-light desktop:mt-5"},[e._v("\n          Cooking Time: "+e._s(e.value.cookingTime)+" min\n        ")]):e._e(),e._v(" "),e.value.equipments.length?n("div",{staticClass:"desktop:text-15 font-light mt-4 desktop:mt-5 flex items-center justify-center"},[n("vector",{attrs:{src:r(601),alt:"Equipment","svg-class":"h-20 w-20 mobile:h-12 mobile:w-12 desktop:h-14 desktop:w-14"}}),e._v(" "),n("span",[e._v("Equipment Required")])],1):e._e()])]),e._v(" "),e.value.mealPlans.length>0||e.gourmetSurcharge?n("div",{staticClass:"desktop:-m-4"},[e._l(e.value.mealPlans,(function(e){return n("meal-plan-badge",{key:e.id,staticClass:"desktop:m-4",attrs:{value:e}})})),e._v(" "),e.value.features.some((function(e){return"Gluten-Free"===e.name}))?n("p",{staticClass:"inline-block text-13 desktop:text-15 font-light"},[e._v("\n        Gluten-Free\n      ")]):e._e(),e._v(" "),e.value.features.some((function(e){return"Dairy-Free"===e.name}))?n("p",{staticClass:"inline-block text-13 desktop:text-15 font-light"},[e._v("\n        Dairy-Free\n      ")]):e._e(),e._v(" "),e.gourmetSurcharge?n("p",{staticClass:"inline-block desktop:m-4"},[n("span",{staticClass:"desktop:text-13 text-yellow"},[e._v("+AED "+e._s(e.numeral(e.gourmetSurcharge).format("0,0[.]00")))]),n("span",{staticClass:"desktop:text-11 text-yellow-intense"},[e._v("/serving")])]):e._e()],2):e._e(),e._v(" "),n("recipe-features",{staticClass:"absolute pin-t pin-r desktop:mr-6",class:e.$style.features,attrs:{features:e.value.features,"dynamic-features":e.value.dynamic_features,classic:!!e.value.weeklyClassic}})],1)],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,M=r(15),D=r(10),O=r.n(D),j=r(144),$=e=>{var t=O.a.tz("Asia/Dubai").day(),r=O.a.tz("Asia/Dubai").hour(),n=4===t||5===t&&r<=12?0:1;return Object(M.g)(e||(n?O.a.tz("Asia/Dubai").add(n,"week"):O.a.tz("Asia/Dubai")))},A=function(){var e=Object(n.a)((function*(e,t){var{$api:r}=e,{hasNextWeek:n,weeklyMenu:l}=yield r.weeklyMenusFind.getByParameters({by:"startDate",value:Object(M.g)(t).format("YYYY-MM-DD"),withNextWeek:1});return{hasNextWeek:n,item:l}}));return function(t,r){return e.apply(this,arguments)}}(),F={components:{Notification:l.a,RecipeCard:o.a,RecipeHighlightedCard:P},middleware(e){var{app:t,error:r,redirect:n,route:l}=e;try{l.params.week||n("/weekly-menu/".concat($(null).format("YYYY-MM-DD")))}catch(e){console.error(e),t.$sentry.captureException(e),r({message:e.message,statusCode:500})}},asyncData:e=>Object(n.a)((function*(){var{app:t,error:r,route:n,store:l}=e;try{if(n.params.week&&!O()(n.params.week).isValid())throw new Error("Invalid week parameter.");var o=!1;n.query.preview&&l.getters["auth/isAuthenticated"]&&(l.state.auth.customer.user.roles.includes("Administrator")||l.state.auth.customer.user.roles.includes("Recipe editor"))&&(o=!0);var c=O.a.tz("Asia/Dubai").day(),d=O.a.tz("Asia/Dubai").hour(),h=4===c||5===c&&d<=12?0:1,[{items:m},{item:k,hasNextWeek:v}]=yield Promise.all([t.$api.mealPlans.getByParameters(void 0,{cache:!0}),A({$api:t.$api},n.params.week||(h?O.a.tz("Asia/Dubai").add(h,"week"):O.a.tz("Asia/Dubai")))]);return l.commit("weeklyMenu/".concat(j.SET_WEEK),k.id),{hasNextWeek:v,isAdmin:o,mealPlans:m,weeklyMenu:k}}catch(e){console.error(e),t.$sentry.captureException(e),r({message:e.message,statusCode:500})}}))(),data:()=>({hasNextWeek:!1,isAdmin:!1,key:null,max:null,mealPlans:[],min:null,weeklyMenu:null,schema:{"@context":"https://schema.org/","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://hellochef.me/"},{"@type":"ListItem",position:2,name:"Weekly Menu",item:"https://hellochef.me/weekly-menu"}]}}),head(){return{__dangerouslyDisableSanitizers:["script"],link:[{href:"".concat("https://hellochef.me","/weekly-menu"),rel:"canonical"}],meta:[{content:"Choose between 16 different delicious recipes every week! Fresh ingredients, easy to cook recipes, delivered to your doorstep! Starting AED 31 per meal.",hid:"description",name:"description"}],script:[{innerHTML:JSON.stringify(this.schema),type:"application/ld+json"}],title:"Weekly Recipes: Low Carb, Vegetarian, Vegan | Hello Chef!"}},computed:{filteredMealPlans(){return this.mealPlans.filter((e=>"Everything"!==e.name))},hasPrevious(){var e=O()().clone().startOf("week").clone().add(-5,"week");return $(this.$route.params.week).isSameOrAfter(e)},highlighted(){return this.recipes.find((e=>e.features.some((e=>"Chef's choice"===e.name))))},mealPlan(){return this.$route.query.plan?this.mealPlans.find((e=>m()(e.name)===this.$route.query.plan)):null},next(){return this.routeTo($(this.$route.params.week).clone().add(1,"week"))},normal(){return this.recipes.filter((e=>e!==this.highlighted))},previous(){return this.routeTo($(this.$route.params.week).clone().add(-1,"week"))},recipes(){return this.weeklyMenu?this.weeklyMenu.recipes.filter((e=>null===this.mealPlan||e.mealPlans.some((e=>e.id===this.mealPlan.id)))):[]},startDate(){var e=O.a.tz("Asia/Dubai").day(),t=O.a.tz("Asia/Dubai").hour(),r=4===e||5===e&&t<=12?0:1;return Object(M.g)(this.$route.params.week||(r?O.a.tz("Asia/Dubai").add(r,"week"):O.a.tz("Asia/Dubai")))}},watch:{"$route.query"(){this.$store.dispatch("events/track",{event:"View Weekly Menu",properties:{week:this.$route.params.week,filter:this.$route.query.plan}})}},mounted(){this.$store.dispatch("events/track",{event:"View Weekly Menu",properties:{week:this.$route.params.week,filter:this.$route.query.plan}})},methods:{routeTo(e){return{name:"weekly-menu-week",params:{week:e?e.format("YYYY-MM-DD"):void 0},query:{plan:this.$route.query.plan}}},routeToMealPlan(e){return{name:"weekly-menu-week",params:{week:this.$route.params.week},query:{plan:e?m()(e.name):void 0}}}}},z=Object(C.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-background mobile:min-h-screen"},[n("app-header"),e._v(" "),n("transition",{attrs:{appear:"",name:"vue-fade"}},[e.isAdmin?n("section",{staticClass:"pt-18 desktop:pt-46"},[n("notification",{attrs:{text:"This weekly preview is only viewable by administrator"},on:{close:function(t){e.isAdmin=!1}}})],1):e._e()]),e._v(" "),n("section",{staticClass:"pt-56 desktop:pt-91 mobile:pt-16 pb-80 desktop:pb-80 px-gutter desktop:px-gutter-2x"},[n("div",{staticClass:"flex items-center justify-between desktop:justify-center"},[n("div",{staticClass:"w-24 desktop:w-24"},[e.hasPrevious?n("nuxt-link",{staticClass:"btn btn-circle btn-secondary",attrs:{to:e.previous}},[n("vector",{staticClass:"h-12 w-12 desktop:h-12 desktop:w-12",attrs:{src:r(569),alt:"previous"}})],1):e._e()],1),e._v(" "),n("h1",{staticClass:"text-center ml-16 desktop:ml-16 desktop:w-570"},[e._v("\n        Menu for "+e._s(e.weekName(e.startDate,{short:!0}))+"\n      ")]),e._v(" "),n("div",{staticClass:"w-24 desktop:w-24 ml-16 desktop:ml-16"},[e.hasNextWeek?n("nuxt-link",{staticClass:"btn btn-circle btn-secondary",attrs:{to:e.next}},[n("vector",{staticClass:"h-12 w-12 desktop:h-12 desktop:w-12",attrs:{src:r(570),alt:"next"}})],1):e._e()],1)]),e._v(" "),n("div",{staticClass:"btn-group flex justify-center mt-12 desktop:mt-28 mobile:w-full"},[n("nuxt-link",{staticClass:"btn btn-sm btn-select p-16 desktop:p-16 mobile:px-0 mobile:w-1/4",class:null===e.mealPlan?"btn-secondary font-bold":"btn-gray btn-outline font-light",attrs:{to:e.routeToMealPlan()}},[e._v("\n        All Recipes\n      ")]),e._v(" "),e._l(e.filteredMealPlans,(function(t){return n("nuxt-link",{key:t.id,staticClass:"btn btn-sm btn-select p-16 desktop:p-16 mobile:px-0 mobile:w-1/4",class:e.mealPlan===t?"btn-secondary font-bold":"btn-gray btn-outline font-light",attrs:{to:e.routeToMealPlan(t)}},[e._v("\n        "+e._s(t.name)+"\n      ")])}))],2),e._v(" "),n("div",{staticClass:"row desktop:mt-40"},[e.highlighted?n("div",{staticClass:"col-12 desktop:col-8 mobile:mt-gutter"},[n("recipe-highlighted-card",{key:"desktop:"+e.highlighted.id,staticClass:"h-full mobile:hidden",attrs:{value:e.highlighted}}),e._v(" "),n("recipe-card",{key:"mobile:"+e.highlighted.id,staticClass:"h-full desktop:hidden",attrs:{"read-only":!0,value:e.highlighted}})],1):e._e(),e._v(" "),e._l(e.normal,(function(t,r){return n("div",{key:t.id,staticClass:"col-12 desktop:col-4 mobile:mt-gutter",class:{"desktop:mt-gutter-2x":e.highlighted?r>0:r>2}},[n("recipe-card",{staticClass:"h-full",attrs:{value:t,"read-only":!0}})],1)}))],2)]),e._v(" "),n("app-footer"),e._v(" "),n("app-footer-mobile")],1)}),[],!1,null,null,null);t.default=z.exports}}]);